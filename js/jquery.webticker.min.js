!function(t){function i(e){var i=0;return e.children("li").each(function(){i+=t(this).outerWidth(!0)}),i}function s(e){return Math.max.apply(Math,e.children().map(function(){return t(this).width()}).get())}function n(t){var e=t.data("settings")||{direction:"left",speed:50},i=t.children().first(),s=Math.abs(-t.css(e.direction).replace("px","").replace("auto","0")-i.outerWidth(!0)),n=1e3*s/e.speed,o={};return o[e.direction]=t.css(e.direction).replace("px","").replace("auto","0")-s,{css:o,time:n}}function o(t){var e=t.data("settings")||{direction:"left"};t.css("transition-duration","0s").css(e.direction,"0");var i=t.children().first();i.hasClass("webticker-init")?i.remove():t.children().last().after(i)}function r(t,e){var i=t.data("settings")||{direction:"left"};"undefined"==typeof e&&(e=!1),e&&o(t);var s=n(t);t.animate(s.css,s.time,"linear",function(){t.css(i.direction,"0"),r(t,!0)})}function a(t,e){"undefined"==typeof e&&(e=!1),e&&o(t);var i=n(t),s=i.time/1e3;s+="s",t.css(i.css).css("transition-duration",s)}function l(e,i,s){var n=[];t.get(e,function(e){var o=t(e);o.find("item").each(function(){var e=t(this),i={title:e.find("title").text(),link:e.find("link").text()},s='<li><a href="'+i.link+'"">'+i.title+"</a></li>";n+=s}),s.webTicker("update",n,i)})}function h(e,n){if(e.children("li").length<1)return window.console,!1;var o=e.data("settings");o.duplicateLoops=o.duplicateLoops||0,e.width("auto");var r=0;e.children("li").each(function(){r+=t(this).outerWidth(!0)});var l,a=e.find("li:first").height();if(o.duplicate){l=s(e);for(var h=0;r-l<e.parent().width()||1===e.children().length||h<o.duplicateLoops;){var c=e.children().clone();e.append(c),r=0,r=i(e),l=s(e),h++}o.duplicateLoops=h}else{var d=e.parent().width()-r;d+=e.find("li:first").width(),e.find(".ticker-spacer").length>0?e.find(".ticker-spacer").width(d):e.append('<li class="ticker-spacer" style="float: '+o.direction+";width:"+d+"px;height:"+a+'px;"></li>')}o.startEmpty&&n&&e.prepend('<li class="webticker-init" style="float: '+o.direction+";width:"+e.parent().width()+"px;height:"+a+'px;"></li>'),r=0,r=i(e),e.width(r+200);var f=0;for(f=i(e);f>=e.width();)e.width(e.width()+200),f=0,f=i(e);return!0}var e=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(""===t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1}(),c={init:function(i){return i=jQuery.extend({speed:40,direction:"right",moving:!0,startEmpty:!1,duplicate:!0,rssurl:!1,hoverpause:!1,rssfrequency:0,updatetype:"reset",transition:"linear",height:"156px",maskleft:"",maskright:"",maskwidth:0},i),this.each(function(){jQuery(this).data("settings",i);var s=jQuery(this),n=s.wrap('<div class="mask"></div>');n.after('<span class="tickeroverlay-left"> </span><span class="tickeroverlay-right"> </span>');var c,o=s.parent().wrap('<div class="tickercontainer"></div>');if(t(window).resize(function(){clearTimeout(c),c=setTimeout(function(){console.log("window was resized"),h(s,!1)},500)}),s.children("li").css("white-space","nowrap"),s.children("li").css("float",i.direction),s.children("li").css("padding","0 0px"),s.children("li").css("margin","0 -10px"),s.children("li").css("line-height",i.height),n.css("position","relative"),n.css("overflow","hidden"),s.closest(".tickercontainer").css("height",i.height),s.closest(".tickercontainer").css("overflow","hidden"),s.css("float",i.direction),s.css("position","relative"),s.css("font","normal 12px"),s.css("list-style-type","none"),s.css("margin","0"),s.css("padding","0"),""!==i.maskleft&&""!==i.maskright){var d='url("'+i.maskleft+'")';o.find(".tickeroverlay-left").css("background-image",d),o.find(".tickeroverlay-left").css("display","block"),o.find(".tickeroverlay-left").css("pointer-events","none"),o.find(".tickeroverlay-left").css("position","absolute"),o.find(".tickeroverlay-left").css("z-index","30"),o.find(".tickeroverlay-left").css("height",i.height),o.find(".tickeroverlay-left").css("width",i.maskwidth),o.find(".tickeroverlay-left").css("top","0"),o.find(".tickeroverlay-left").css("left","-2px"),d='url("'+i.maskright+'")',o.find(".tickeroverlay-right").css("background-image",d),o.find(".tickeroverlay-right").css("display","block"),o.find(".tickeroverlay-right").css("pointer-events","none"),o.find(".tickeroverlay-right").css("position","absolute"),o.find(".tickeroverlay-right").css("z-index","30"),o.find(".tickeroverlay-right").css("height",i.height),o.find(".tickeroverlay-right").css("width",i.maskwidth),o.find(".tickeroverlay-right").css("top","0"),o.find(".tickeroverlay-right").css("right","-2px")}else o.find(".tickeroverlay-left").css("display","none"),o.find(".tickeroverlay-right").css("display","none");s.children("li").last().addClass("last");var f=h(s,!0);i.rssurl&&(l(i.rssurl,i.type,s),i.rssfrequency>0&&window.setInterval(function(){l(i.rssurl,i.type,s)},1e3*i.rssfrequency*60)),e?(s.css("transition-timing-function",i.transition),s.css("transition-duration","0s").css(i.direction,"0"),f&&a(s,!1),s.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend",function(e){return s.is(e.target)?void a(t(this),!0):!1})):f&&r(t(this)),i.hoverpause&&s.hover(function(){if(e){var s=t(this).css(i.direction);t(this).css("transition-duration","0s").css(i.direction,s)}else jQuery(this).stop()},function(){jQuery(this).data("settings").moving&&(e?a(t(this),!1):r(s))})})},stop:function(){var i=t(this).data("settings");return i.moving?(i.moving=!1,this.each(function(){if(e){var s=t(this).css(i.direction);t(this).css("transition-duration","0s").css(i.direction,s)}else t(this).stop()})):void 0},cont:function(){var i=t(this).data("settings");return i.moving?void 0:(i.moving=!0,this.each(function(){e?a(t(this),!1):r(t(this))}))},transition:function(i){var s=t(this);e&&s.css("transition-timing-function",i)},update:function(e,s,n,o){s=s||"reset","undefined"==typeof n&&(n=!0),"undefined"==typeof o&&(o=!1),"string"==typeof e&&(e=t(e));var r=t(this);r.webTicker("stop");var a=t(this).data("settings");if("reset"===s)r.html(e),h(r,!0);else if("swap"===s){var l,c,d,f;if(window.console,r.children("li").length<1)r.html(e),r.css(a.direction,"0"),h(r,!0);else if(a.duplicate===!0){r.children("li").addClass("old");for(var p=e.length-1;p>=0;p--)l=t(e[p]).data("update"),c=r.find('[data-update="'+l+'"]'),c.length<1?n&&(0===r.find(".ticker-spacer:first-child").length&&r.find(".ticker-spacer").length>0?r.children("li.ticker-spacer").before(e[p]):(d=t(e[p]),p===e.length-1&&d.addClass("last"),r.find("last").after(d),r.find("last").removeClass("last"))):r.find('[data-update="'+l+'"]').replaceWith(e[p]);r.children("li.webticker-init, li.ticker-spacer").removeClass("old"),o&&r.children("li").remove(".old"),f=0,f=i(r),r.width(f+200),r.find("li.webticker-init").length<1&&(a.startEmpty=!1),r.html(e),r.children("li").css("white-space","nowrap"),r.children("li").css("float",a.direction),r.children("li").css("padding","0 7px"),r.children("li").css("line-height",a.height),h(r,!0)}else{r.children("li").addClass("old");for(var u=0;u<e.length;u++)l=t(e[u]).data("update"),c=r.find('[data-update="'+l+'"]'),c.length<1?n&&(0===r.find(".ticker-spacer:first-child").length&&r.find(".ticker-spacer").length>0?r.children("li.ticker-spacer").before(e[u]):(d=t(e[u]),u===e.length-1&&d.addClass("last"),r.find(".old.last").after(d),r.find(".old.last").removeClass("last"))):r.find('[data-update="'+l+'"]').replaceWith(e[u]);r.children("li.webticker-init, li.ticker-spacer").removeClass("old"),r.children("li").css("white-space","nowrap"),r.children("li").css("float",a.direction),r.children("li").css("padding","0 7px"),r.children("li").css("line-height",a.height),o&&r.children("li").remove(".old"),f=0,f=i(r),r.width(f+200)}}r.webTicker("cont")}};t.fn.webTicker=function(e){return c[e]?c[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.webTicker"):c.init.apply(this,arguments)}}(jQuery);